(()=>{"use strict";const o={run(o){}},e={conn:null,start(){this.conn=new WebSocket("ws://localhost/ws"),this.conn.onclose=function(o){console.warn("Connection closed")},this.conn.onopen=function(o){console.log("Socket connected")},this.conn.onmessage=function(e){let n=JSON.parse(e.data);o.run(n)}},joinRoom(o){this.send("join_room",{room_name:o})},createRoom(o){this.send("create_room",{room_name:o})},move(o,e){this.send("move",{from:o,to:e})},send(o,e){let n={action:o,...e},t=JSON.stringify(n);this.conn.send(t)}},n={create(o){console.log("create room: "+o),e.createRoom(o)},join(o){console.log("join room: "+o),e.joinRoom(o)}},t={start(){document.getElementById("createRoom").addEventListener("click",(o=>{n.create(document.getElementById("roomName").value)})),document.getElementById("joinRoom").addEventListener("click",(o=>{n.join(document.getElementById("roomName").value)}))}};console.log("Start"),t.start(),e.start()})();